[env:m5stack-core2]
platform = espressif32
board = m5stack-core2
framework = espidf
monitor_speed = 115200
upload_speed = 921600

# ESP-IDF version (Core2 works best with v4.2)
platform_packages =
    framework-espidf @ ~3.40200.0

# Libraries
lib_deps =
    bblanchon/ArduinoJson@^6.21.3
    m5stack/M5Unified@^0.2.7
    m5stack/M5GFX@^0.2.8

# Build flags
build_flags =
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue

# Use huge_app partition for larger C++ binary
board_build.partitions = huge_app.csv

# ESP-IDF configuration - certificates not needed for basic WiFi
# board_build.embed_txtfiles =
#     src/certs/ca_cert.pem
#     src/certs/client_cert.pem
#     src/certs/client_key.pem